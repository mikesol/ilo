---
import Base from "../../layouts/Base.astro";
import Playground from "../../components/Playground";

const example = `const app = mvfm(num, str, semiring);

const prog = app(($) => {
  const a = $.add(1, 2);
  const b = $.concat("hello", " world");
  return $.do(a, b);
});

const ast = prog.ast;
console.log(JSON.stringify(ast, (k, v) => k === "__id" ? undefined : v, 2));`;
---

<Base title="core/do â€” MVFM">
  <div class="detail">
    <h1>core/do</h1>
    <p class="meta">Sequential composition. All arguments but the last are steps. The last is the return value.</p>
    <Playground code={example} client:visible />
  </div>
</Base>

<style>
  .detail h1 {
    font-size: 18px;
    font-weight: bold;
    color: #e03;
    letter-spacing: 0.02em;
  }

  .detail .meta {
    margin-top: 4px;
    font-size: 13px;
    color: #e03;
  }
</style>
